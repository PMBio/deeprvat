name: DeepRVAT
run-name: DeepRVAT 🧬🧪💻🧑‍🔬
on: [ push ]

jobs:
  DeepRVAT-Preprocessing-Pipeline-Smoke-Tests:
    runs-on: ubuntu-latest
    steps:
      - name: Check out repository code
        uses: actions/checkout@v3
      - name: Preprocessing Smoke Test With QC
        uses: snakemake/snakemake-github-action@v1.25.1
        with:
          directory: 'example/preprocess'
          snakefile: 'pipelines/preprocess_with_qc.snakefile'
          args: '-j 2 -n --configfile pipelines/config/deeprvat_preprocess_config.yaml'
          stagein: 'touch example/preprocess/workdir/reference/GRCh38.primary_assembly.genome.fa'
